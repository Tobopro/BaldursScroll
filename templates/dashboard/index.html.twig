{% extends 'base.html.twig' %}

{% block title %}Dashboard
{% endblock %}

{% block body %}

	<div class="container-dashboard">
		<div class="dashboard-filter">

			<div class="container-fluid">
				<div class="row">

					<div class="col-4">

						<form method="get" action="{{ path('app_dashboard') }}">
							<label for="classFilter">Filtrer par classe :</label>
							<select name="classFilter" id="classFilter">
								<option value="">Toutes les classes</option>
								{% for classe in classes %}
									<option value="{{ classe.id }}">{{ classe.name }}</option>
								{% endfor %}
							</select>
							<button type="submit">Filtrer</button>
						</form>
					</div>
					<div class="col-4">
						<form method="get" action="{{ path('app_dashboard') }}">
							<label for="raceFilter">Filtrer par race :</label>
							<select name="raceFilter" id="raceFilter">

								<option value="">Toutes les races</option>
								{% for race in races %}

									<option value="{{ race.id }}">{{ race.name }}</option>
								{% endfor %}
							</select>
							<button type="submit">Filtrer</button>
						</form>
					</div>
					<div class="col-4">
						<form method="get" action="{{ path('app_dashboard') }}">
							<input type="checkbox" id="mostLiked" name="mostLiked" value="1">
							<label for="mostLiked">Trending</label>
							<button type="submit">search</button>
						</form>
					</div>


				</div>
			</div>
		</div>

		<div class="pagination-container">
			<div class="pagination">
				{{ knp_pagination_render(pagination) }}
			</div>

		</div>


		<div class="dashboard-cards">
			{% for character in pagination.items %}


				<a href="{{ path('app_build', {'characterId': character.id}) }}" class="card">
					<div class="card">

						<img src="{{ asset('img/' ~ character.idSubClasses.icon) }}" alt="">

						<div class="card-content">
							<h2>{{ character.name }}</h2>
							<p>Classe :
								{{ character.idSubClasses.name }}</p>
							<p>Race :
								{{ character.idSubRace.name }}</p>
							<p>
								<i class="fa-solid fa-arrow-trend-up"></i>
								{{character.getLikes()}}</p>

						</div>
					</div>
				</a>
			{% endfor %}
		</div>

	</div>
{% endblock %}
